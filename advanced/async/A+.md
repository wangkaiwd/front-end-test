## Promise/A+
`promise`表示一个异步操作的最终结果。和一个`promise`进行交互的主要方式是通过它的`then`方法，该方法注册回调要么接收一个`promise`的最终值，要么接收`promise`为什么不能被**满足**的原因。

这个规范详细描述了`then`方法的行为，提供了一个可交互操作的基础，所有的符合`promise/A+`规范的`promise`的实现都可以依靠该基础来实现。因此，这个规范应该被认为是十分稳定的。尽管`Promise/A+`组织可能会偶尔地通过一些较小的向后兼容的改变来修订这个规范，来解决新发现的一些边界情况。只有在经过仔细的考虑、讨论和测试后，我们才会集成大的或者向后不兼容的更改。

从历史上来说，`Promise/A+`阐明了早期`Promise/A 提案`的行为条款，扩展了原有规范约定俗成的行为，并且省略了没有被指定或者有问题的部分。

最终，`Promise/A+`规范没有处理如何创建、满足或拒绝`promises`,而是选择去专注于提供一个可交互操作的`then`方法。未来在相关规范的工作中可能会提到这些话题。

### 1. 术语
* 1.1. promise: 一个拥有符合这个规范的行为的`then`方法的对象或函数。
* 1.2. thenable: 定义了一个`then`方法的对象或函数。
* 1.3. 值(value): 任意合法的`JavaScript`值(包括`undefined`,`thenable`,`promise`)。
* 1.4. 异常(exception): 使用`throw`语句抛出的一个值
* 1.5. 原因(reason): 表示`promise`为什么被拒绝的一个值

### 2. 必要条件

#### 2.1. Promise States
`promise`必须是这三个状态中的一种：等待态`pending`,解决态`fulfilled`或拒绝态`rejected`

* 2.1.1. 当一个`promise`处于等待状态的时候：
    * 2.1.1.1. 可能变为**解决**或者**拒绝**状态。
* 2.1.2. 当一个`promise`处于**解决**状态的时候：
    * 2.1.2.1. 一定不能转换为任何其它状态
    * 2.1.2.2. 必须有一个不能改变的**值**
* 2.1.3. 当一个`promise`处于**拒绝**状态的时候：
    * 2.1.3.1. 一定不能转换为任何其它状态
    * 2.1.3.2. 必须有一个不能改变的**值**

在这里，"一定不能改变"意味着不变的身份(例如 `===`)，但是并不意味着深度不可变性。(译注者：这里应该是说只要**值**的引用相同即可，并不需要引用中的每一个值都相等)

#### 2.2. The `then` Method
`Promise`必须提供一个`then`方法来访问当前或最终的值或原因。

`Promise`的`then`方法接受俩个参数：
```javascript
promise.then(onFulfilled, onRejected)
```
##### 2.2.1 `onFulfilled`和`onRejected`都是可选的参数
* 2.2.1.1. 如果`onFulfilled`不是一个函数，它必须被忽略
* 2.2.1.2. 如果`onRejected`不是一个函数，它必须被忽略

#### 2.2.2。 如果`onFulfilled`是一个函数
* 2.2.2.1. 它必须在`promise`被**解决**后调用，`promise`的值作为它的第一个参数。
* 2.2.2.2. 它一定不能在`promise`被**解决**前调用。
* 2.2.2.3. 它一定不能被调用多次。

#### 2.2.3. 如果`onRejected`是一个函数
* 2.2.3.1. 它必须在`promise`被**拒绝**之后调用，用`promise`的原因作为它的第一个参数。
* 2.2.3.2. 它一定不能在`promise`被**拒绝**之前调用。
* 2.2.3.3. 它一定不能被调用多次。

#### 2.2.4. 在执行上下文栈中只包含平台代码之前，`onFulfilled`或`onRejected`一定不能被调用
#### 2.2.5. `onFulfilled`和`onRejected`一定被作为函数调用(没有`this`值)
#### 2.2.6. 同一个`promise`上的`then`可能被调用多次
* 2.2.6.1. 
